
<!DOCTYPE html >
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>修改密码</title>
<style type="text/css">
body{
	background:url(images/bg.jpg);
	background-size:auto auto;
	}
#Register{
	margin:120px auto 0 auto;
}
h1{
	font-size:30px;
	font-weight:700;
	color:#FFF;
	text-align:center;
    text-shadow: 0 1px 4px rgba(0,0,0,.2);
	}
form{
	position:relative;
	width:305px;
	margin:25px auto 0 auto;
	text-align:center;}
input{
	width:270px;
	height:42px;
	margin-top:25px;
	border-radius:6px;
	background: rgba(45,45,45,.15);
	border: 1px solid rgba(255,255,255,.15);
	font-size:14px;
	color:#FFF;
	text-shadow: 0 1px 2px rgba(0,0,0,.1);
	box-shadow: 0 2px 3px 0 rgba(0,0,0,.1) inset;
	}
input:hover{
	border:1px solid #B1FECC;}
inpput:focus{
	outline: none;
    -moz-box-shadow:
        0 2px 3px 0 rgba(0,0,0,.1) inset,
        0 2px 7px 0 rgba(0,0,0,.2);
    -webkit-box-shadow:
        0 2px 3px 0 rgba(0,0,0,.1) inset,
        0 2px 7px 0 rgba(0,0,0,.2);
    box-shadow:
        0 2px 3px 0 rgba(0,0,0,.1) inset,
        0 2px 7px 0 rgba(0,0,0,.2);
		}
input:-moz-placeholder { color: #fff; }
input:-ms-input-placeholder { color: #fff; }
input::-webkit-input-placeholder { color: #fff; }
#button{
	cursor: pointer;
    width: 270px;
    height: 44px;
    margin-top: 25px;
    padding: 0;
    background: #ef4300;
    -moz-border-radius: 6px;
    -webkit-border-radius: 6px;
    border-radius: 6px;
    border: 1px solid #ff730e;
    -moz-box-shadow:
        0 15px 30px 0 rgba(255,255,255,.25) inset,
        0 2px 7px 0 rgba(0,0,0,.2);
    -webkit-box-shadow:
        0 15px 30px 0 rgba(255,255,255,.25) inset,
        0 2px 7px 0 rgba(0,0,0,.2);
    box-shadow:
        0 15px 30px 0 rgba(255,255,255,.25) inset,
        0 2px 7px 0 rgba(0,0,0,.2);
    font-family: 'PT Sans', Helvetica, Arial, sans-serif;
    font-size: 14px;
    font-weight: 700;
    color: #fff;
    text-shadow: 0 1px 2px rgba(0,0,0,.1);
	
}
#button:hover {
    -moz-box-shadow:
        0 15px 30px 0 rgba(255,255,255,.15) inset,
        0 2px 7px 0 rgba(0,0,0,.2);
    -webkit-box-shadow:
        0 15px 30px 0 rgba(255,255,255,.15) inset,
        0 2px 7px 0 rgba(0,0,0,.2);
    box-shadow:
        0 15px 30px 0 rgba(255,255,255,.15) inset,
        0 2px 7px 0 rgba(0,0,0,.2);
}

#button:active {
    -moz-box-shadow:
        0 15px 30px 0 rgba(255,255,255,.15) inset,
        0 2px 7px 0 rgba(0,0,0,.2);
    -webkit-box-shadow:
        0 15px 30px 0 rgba(255,255,255,.15) inset,
        0 2px 7px 0 rgba(0,0,0,.2);
    box-shadow:        
        0 5px 8px 0 rgba(0,0,0,.1) inset,
        0 1px 4px 0 rgba(0,0,0,.1);
    border: 0px solid #ef4300;
}
</style>
</head>

<body>
<div id="Register">
<h1>密码修改</h1>
<form  action="alter_password_action.php" method="post" onsubmit="return alter()">  
        	<input type="text" name="username" id ="username" placeholder="请输入用户名！" />
            <input type="password" name="oldpassword" id ="oldpassword" placeholder="请输入旧密码！"/>
            <input type="password" name="newpassword" id="newpassword" placeholder="请输入新密码！"/>
            <input type="password" name="assertpassword" id="assertpassword" placeholder="确认密码！"/>
            <input type="submit" value="修改密码" id="button" onclick="return alter()">  
    </form>     
</div>
   <script type="text/javascript">  
            document.getElementById("username").value="<? php echo "${_SESSION["username"]}";?>"  
        </script>  
  
    <script type="text/javascript">  
        function alter() {  
              
            var username=document.getElementById("username").value;  
            var oldpassword=document.getElementById("oldpassword").value;  
            var newpassword=document.getElementById("newpassword").value;  
            var assertpassword=document.getElementById("assertpassword").value;  
            var regex=/^[/s]+$/;  
            if(regex.test(username)||username.length==0){  
                alert("请输入用户名");  
                return false;  
            }  
            if(regex.test(oldpassword)||oldpassword.length==0){  
                alert("请输入旧密码");  
                return false;  
            }  
            if(regex.test(newpassword)||newpassword.length==0) {  
                alert("请输入新密码！");  
                return false;  
            }
			if(newpassword==oldpassword) {  
                alert("新密码与旧密码相同！");  
                return false;  
            } 
            if (assertpassword != newpassword||assertpassword==0) {  
                alert("两次密码输入不一致");  
                return false;  
            }  
            return true;  
  
        }  
    </script>
</body>
</html>
